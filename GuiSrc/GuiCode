import tkinter as tk
from tkinter import filedialog
from tkinter import messagebox
from PIL import Image, ImageTk
import requests 

# Set up the main window
window = tk.Tk()
window.title("Image Uploader")
window.geometry("500x500")

# Add a canvas to the main window
canvas = tk.Canvas(window, width=500, height=500)
canvas.pack()

# Add an upload button to the main window
def upload_image():
    # Open a file dialog and get the selected file's path
    file_path = filedialog.askopenfilename()
    if not file_path:
        return

    # Load the image using PIL
    image = Image.open(file_path)

    # Convert the image to a PhotoImage object
    image = ImageTk.PhotoImage(image)

    # Display the image on the canvas
    canvas.create_image(250, 250, image=image)

    # Upload the image to the server
    with open(file_path, "rb") as image_file:
        response = requests.post(
            "http://your-server.com/upload",
            files={"image": image_file}
        )
        if response.status_code == 200:
            messagebox.showinfo("Success", "Image uploaded successfully!")
        else:
            messagebox.showerror("Error", "Failed to upload image")

upload_button = tk.Button(window, text="Upload Image", command=upload_image)
upload_button.pack()

# Run the main loop
window.mainloop()
